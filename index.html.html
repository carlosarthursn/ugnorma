<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultragaz - Guia T√©cnico</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Guia de bolso para instala√ß√µes comerciais de GLP da Ultragaz">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ultragaz">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- √çcone -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%232563eb'/%3E%3Ctext x='16' y='22' text-anchor='middle' font-size='14' font-weight='bold' fill='white'%3EUG%3C/text%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' fill='%232563eb'/%3E%3Ctext x='96' y='120' text-anchor='middle' font-size='80' font-weight='bold' fill='white'%3EUG%3C/text%3E%3C/svg%3E">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Remove qualquer indica√ß√£o de browser */
        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        input, select {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        body {
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }
        
        .logo-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Prevent zoom on iOS */
        input[type="text"], input[type="number"], select, textarea {
            font-size: 16px;
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="logo-animation mb-4">
            <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center">
                <span class="text-blue-600 text-2xl font-bold">UG</span>
            </div>
        </div>
        <h1 class="text-2xl font-bold mb-2">Ultragaz</h1>
        <p class="text-blue-200">Guia T√©cnico</p>
        <div class="mt-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
        </div>
    </div>

    <!-- App Container -->
    <div id="app" style="display: none;">
        <div class="max-w-md mx-auto bg-white min-h-screen flex flex-col">
            
            <!-- Home Screen -->
            <div id="home-screen" class="screen active flex-1">
                <!-- Header -->
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <h1 class="text-lg font-bold flex-1">Ultragaz - Guia T√©cnico</h1>
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center">
                        <span class="text-blue-600 text-xs font-bold">UG</span>
                    </div>
                </div>

                <!-- Search -->
                <div class="p-4 bg-gray-50">
                    <div class="relative">
                        <span class="absolute left-3 top-3 text-gray-400">üîç</span>
                        <input type="text" placeholder="Buscar informa√ß√µes..." 
                               class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <!-- Main Content -->
                <div class="flex-1 p-4 space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <!-- Vasilhames -->
                        <button onclick="showScreen('vasilhames-screen')" class="bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500 hover:shadow-lg transition-shadow">
                            <div class="text-blue-600 mb-2 text-2xl">üèóÔ∏è</div>
                            <h3 class="font-semibold text-gray-800">Vasilhames</h3>
                            <p class="text-sm text-gray-600 mt-1">B190 e B125</p>
                        </button>

                        <!-- Calculadora -->
                        <button onclick="showScreen('calculator-screen')" class="bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500 hover:shadow-lg transition-shadow">
                            <div class="text-green-600 mb-2 text-2xl">üßÆ</div>
                            <h3 class="font-semibold text-gray-800">Calculadora</h3>
                            <p class="text-sm text-gray-600 mt-1">Dimensionamento</p>
                        </button>

                        <!-- Dist√¢ncias -->
                        <button onclick="showScreen('distances-screen')" class="bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500 hover:shadow-lg transition-shadow">
                            <div class="text-orange-600 mb-2 text-2xl">üìè</div>
                            <h3 class="font-semibold text-gray-800">Dist√¢ncias</h3>
                            <p class="text-sm text-gray-600 mt-1">Por estado</p>
                        </button>

                        <!-- Normas -->
                        <button onclick="showScreen('norms-screen')" class="bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500 hover:shadow-lg transition-shadow">
                            <div class="text-purple-600 mb-2 text-2xl">üìã</div>
                            <h3 class="font-semibold text-gray-800">Normas</h3>
                            <p class="text-sm text-gray-600 mt-1">NBR e ITs</p>
                        </button>
                    </div>

                    <!-- Quick Access -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Acesso R√°pido</h3>
                        <div class="space-y-2">
                            <button onclick="showScreen('safety-screen')" class="w-full text-left p-3 hover:bg-gray-50 rounded border-b border-gray-100">
                                <span class="text-blue-600 font-medium">‚ö†Ô∏è Seguran√ßa</span>
                                <p class="text-sm text-gray-600">Procedimentos obrigat√≥rios</p>
                            </button>
                            <button onclick="showScreen('investment-screen')" class="w-full text-left p-3 hover:bg-gray-50 rounded border-b border-gray-100">
                                <span class="text-green-600 font-medium">üí∞ Investimento</span>
                                <p class="text-sm text-gray-600">An√°lise de custos</p>
                            </button>
                            <button onclick="showScreen('faq-screen')" class="w-full text-left p-3 hover:bg-gray-50 rounded">
                                <span class="text-orange-600 font-medium">‚ùì FAQ</span>
                                <p class="text-sm text-gray-600">D√∫vidas frequentes</p>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vasilhames Screen -->
            <div id="vasilhames-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">Caracter√≠sticas dos Vasilhames</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <!-- B190 -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <span class="text-blue-600 font-bold text-lg">B190</span>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800">Vasilhame B190</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-3">
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Di√¢metro</span>
                                    <p class="text-lg font-semibold text-gray-800">76,18 cm</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Altura</span>
                                    <p class="text-lg font-semibold text-gray-800">131,9 cm</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Vaz√£o</span>
                                    <p class="text-lg font-semibold text-blue-600">03 kg/h</p>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Tara M√©dia</span>
                                    <p class="text-lg font-semibold text-gray-800">145 kg</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Capacidade GLP</span>
                                    <p class="text-lg font-semibold text-green-600">190 kg</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Cap. Volum√©trica</span>
                                    <p class="text-lg font-semibold text-gray-800">452 L</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- B125 -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                <span class="text-blue-600 font-bold text-lg">B125</span>
                            </div>
                            <h3 class="text-lg font-semibold text-gray-800">Vasilhame B125</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-3">
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Di√¢metro</span>
                                    <p class="text-lg font-semibold text-gray-800">61,0 cm</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Altura</span>
                                    <p class="text-lg font-semibold text-gray-800">133,7 cm</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Vaz√£o</span>
                                    <p class="text-lg font-semibold text-blue-600">02,5 kg/h</p>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Tara M√©dia</span>
                                    <p class="text-lg font-semibold text-gray-800">100 kg</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Capacidade GLP</span>
                                    <p class="text-lg font-semibold text-green-600">125 kg</p>
                                </div>
                                <div>
                                    <span class="text-sm font-medium text-gray-600">Cap. Volum√©trica</span>
                                    <p class="text-lg font-semibold text-gray-800">300 L</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <h4 class="font-semibold text-blue-800 mb-2">üí° Dica Importante</h4>
                        <p class="text-blue-700 text-sm">
                            O B190 tem vaz√£o de 3kg/h, ideal para estabelecimentos com maior consumo.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Calculator Screen -->
            <div id="calculator-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">Calculadora de Dimensionamento</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <!-- Resultado -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Resultado do Dimensionamento</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-center p-3 bg-blue-50 rounded">
                                <p class="text-2xl font-bold text-blue-600" id="consumo-total">0.0</p>
                                <p class="text-sm text-gray-600">kg/h Total</p>
                            </div>
                            <div class="text-center p-3 bg-green-50 rounded">
                                <p class="text-2xl font-bold text-green-600" id="tanques-necessarios">0</p>
                                <p class="text-sm text-gray-600">B190 Necess√°rios</p>
                            </div>
                        </div>
                        <div class="mt-3 p-3 bg-orange-50 rounded">
                            <p class="text-sm text-orange-700">
                                <strong>Consumo mensal:</strong> <span id="consumo-mensal">0</span> kg (<span id="horas-uso">8</span>h/dia √ó <span id="dias-mes">30</span> dias)
                            </p>
                        </div>
                    </div>

                    <!-- Configura√ß√µes -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Configura√ß√µes de Uso</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="text-sm font-medium text-gray-600">Horas/dia</label>
                                <input type="number" id="input-horas" value="8" onchange="updateCalculation()" 
                                       class="w-full mt-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
                            </div>
                            <div>
                                <label class="text-sm font-medium text-gray-600">Dias/m√™s</label>
                                <input type="number" id="input-dias" value="30" onchange="updateCalculation()" 
                                       class="w-full mt-1 p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                    </div>

                    <!-- Equipamentos Selecionados -->
                    <div id="equipamentos-selecionados" class="bg-white rounded-lg shadow-md p-4" style="display: none;">
                        <h3 class="font-semibold text-gray-800 mb-3">Equipamentos Selecionados</h3>
                        <div id="lista-equipamentos" class="space-y-2"></div>
                    </div>

                    <!-- Adicionar Equipamentos -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Adicionar Equipamentos</h3>
                        <div class="space-y-2">
                            <button onclick="addEquipment('Fog√£o duas bocas (Port√°til)', 0.34)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Fog√£o duas bocas (Port√°til)</p>
                                        <p class="text-xs text-gray-600">2.9 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">0.34 kg/h</span>
                                </div>
                            </button>
                            <button onclick="addEquipment('Fog√£o quatro bocas (Sem forno)', 0.95)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Fog√£o quatro bocas (Sem forno)</p>
                                        <p class="text-xs text-gray-600">8.1 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">0.95 kg/h</span>
                                </div>
                            </button>
                            <button onclick="addEquipment('Fog√£o quatro bocas (Com forno)', 1.27)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Fog√£o quatro bocas (Com forno)</p>
                                        <p class="text-xs text-gray-600">10.8 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">1.27 kg/h</span>
                                </div>
                            </button>
                            <button onclick="addEquipment('Fritadeira comercial', 1.5)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Fritadeira comercial</p>
                                        <p class="text-xs text-gray-600">12.8 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">1.5 kg/h</span>
                                </div>
                            </button>
                            <button onclick="addEquipment('Forno de parede', 0.41)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Forno de parede</p>
                                        <p class="text-xs text-gray-600">3.5 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">0.41 kg/h</span>
                                </div>
                            </button>
                            <button onclick="addEquipment('Aquecedor 6 L/min', 1.23)" 
                                    class="w-full text-left p-3 hover:bg-gray-50 rounded border border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-medium text-sm">Aquecedor 6 L/min</p>
                                        <p class="text-xs text-gray-600">10.5 kW</p>
                                    </div>
                                    <span class="text-blue-600 font-semibold">1.23 kg/h</span>
                                </div>
                            </button>
                        </div>
                        
                        <button onclick="clearCalculator()" 
                                class="mt-4 w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-600">
                            Limpar Calculadora
                        </button>
                    </div>
                </div>
            </div>

            <!-- Distances Screen -->
            <div id="distances-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">Distanciamentos - Central em Nicho</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <!-- Seletor de Estado -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Selecionar Estado/Norma</h3>
                        <select id="state-selector" onchange="updateDistances()" 
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <option value="NBR 13523">NBR 13523</option>
                            <option value="SP">S√£o Paulo (SP)</option>
                            <option value="RJ">Rio de Janeiro (RJ)</option>
                            <option value="PR">Paran√° (PR)</option>
                            <option value="ES">Esp√≠rito Santo (ES)</option>
                            <option value="MS">Mato Grosso do Sul (MS)</option>
                            <option value="GO">Goi√°s (GO)</option>
                            <option value="PA">Par√° (PA)</option>
                        </select>
                    </div>

                    <!-- Dist√¢ncias -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-semibold text-gray-800">Dist√¢ncias M√≠nimas (metros)</h3>
                            <span id="current-state" class="bg-blue-100 text-blue-600 px-2 py-1 rounded text-sm font-medium">
                                NBR 13523
                            </span>
                        </div>
                        
                        <div class="space-y-3" id="distances-list">
                            <!-- Ser√° preenchido pelo JavaScript -->
                        </div>
                    </div>

                    <!-- Informa√ß√µes Espec√≠ficas -->
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">Informa√ß√µes Espec√≠ficas</h3>
                        <div class="p-3 bg-green-50 rounded">
                            <p class="text-sm font-medium text-green-800">M√°ximo de tanques permitidos</p>
                            <p class="text-lg font-bold text-green-600" id="max-tanks">2 B190/B125</p>
                        </div>
                        
                        <div id="state-warnings" class="mt-2">
                            <!-- Avisos espec√≠ficos por estado -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Norms Screen -->
            <div id="norms-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">Normas e Legisla√ß√µes</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-blue-600 mb-3">üìã ABNT - Normas T√©cnicas</h3>
                        <div class="space-y-3">
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">NBR 13523</p>
                                <p class="text-sm text-gray-600">Central de g√°s liquefeito de petr√≥leo - GLP</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">NBR 14024</p>
                                <p class="text-sm text-gray-600">Central de GLP - Sistema de abastecimento a granel</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">NBR 15358</p>
                                <p class="text-sm text-gray-600">Rede de distribui√ß√£o interna para uso n√£o residencial</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">NBR 15526</p>
                                <p class="text-sm text-gray-600">Redes de distribui√ß√£o interna para instala√ß√µes residenciais</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-orange-600 mb-3">üèõÔ∏è Legisla√ß√µes Federais</h3>
                        <div class="space-y-3">
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">ANP 18/2004</p>
                                <p class="text-sm text-gray-600">Especifica√ß√£o do GLP</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">ANP 47/1999</p>
                                <p class="text-sm text-gray-600">Sistema de Abastecimento de GLP √† granel</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">ANP 49/2016</p>
                                <p class="text-sm text-gray-600">Distribuidoras de GLP</p>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <p class="font-semibold text-gray-800">NRs</p>
                                <p class="text-sm text-gray-600">Normas Regulamentadoras - Minist√©rio do Trabalho</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <h4 class="font-semibold text-blue-800 mb-2">‚ö†Ô∏è Hierarquia de Normas</h4>
                        <p class="text-blue-700 text-sm">
                            <strong>Prioridade:</strong> 1¬∫ Instru√ß√µes do Corpo de Bombeiros, 2¬∫ Procedimentos Ultragaz, 3¬∫ NBRs
                        </p>
                    </div>
                </div>
            </div>

            <!-- Safety Screen -->
            <div id="safety-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">Seguran√ßa - Procedimentos</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <div class="bg-blue-600 text-white rounded-lg p-4">
                        <h3 class="font-bold text-lg mb-2">üõ°Ô∏è SEGURAN√áA COMO VALOR PRIMORDIAL</h3>
                        <p class="text-sm">
                            A instala√ß√£o em conformidade com as normas vigentes minimiza riscos e garante a seguran√ßa das instala√ß√µes.
                        </p>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-blue-600 mb-3">‚ö†Ô∏è Riscos de N√£o Conformidade</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-blue-50 rounded border-l-4 border-blue-500">
                                <span class="text-xl mr-3">üí•</span>
                                <span class="text-blue-700 font-medium">Risco de acidentes</span>
                            </div>
                            <div class="flex items-center p-3 bg-blue-50 rounded border-l-4 border-blue-500">
                                <span class="text-xl mr-3">üö´</span>
                                <span class="text-blue-700 font-medium">Risco de n√£o pagamento do seguro</span>
                            </div>
                            <div class="flex items-center p-3 bg-blue-50 rounded border-l-4 border-blue-500">
                                <span class="text-xl mr-3">üö®</span>
                                <span class="text-blue-700 font-medium">Risco de interdi√ß√£o pelo Corpo de Bombeiros</span>
                            </div>
                            <div class="flex items-center p-3 bg-blue-50 rounded border-l-4 border-blue-500">
                                <span class="text-xl mr-3">‚õî</span>
                                <span class="text-blue-700 font-medium">Risco de n√£o abastecimento pela Log√≠stica</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Investment Screen -->
            <div id="investment-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">An√°lise de Investimento</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <div class="bg-blue-600 text-white rounded-lg p-4">
                        <h3 class="font-bold text-lg mb-2">üí∞ Composi√ß√£o do Investimento</h3>
                        <p class="text-sm">
                            Para gera√ß√£o dos valores da OS, os kits devem ser lan√ßados corretamente no Salesforce.
                        </p>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">üì¶ Kits Principais</h3>
                        <div class="space-y-3">
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <h4 class="font-semibold text-blue-600 mb-2">Kit Central</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ Custo do Projeto da Central</li>
                                    <li>‚Ä¢ Material para montagem at√© sa√≠da do 1¬∫ est√°gio</li>
                                    <li>‚Ä¢ M√£o de obra para montagem mec√¢nica</li>
                                    <li>‚Ä¢ Frete para entrega do vasilhame</li>
                                </ul>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <h4 class="font-semibold text-blue-600 mb-2">Kit Rede Completo</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ Material e m√£o de obra por metro de rede</li>
                                    <li>‚Ä¢ Lan√ßar quantidade correta em metros</li>
                                </ul>
                            </div>
                            <div class="p-3 border border-gray-200 rounded-lg">
                                <h4 class="font-semibold text-blue-600 mb-2">Kit Abrigo Completo</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>‚Ä¢ Abrigo pr√©-moldado</li>
                                    <li>‚Ä¢ M√£o de obra para montagem</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Screen -->
            <div id="faq-screen" class="screen flex-1">
                <div class="bg-blue-600 text-white p-4 flex items-center shadow-lg">
                    <button onclick="showScreen('home-screen')" class="mr-3 p-1 hover:bg-blue-700 rounded text-xl">‚Üê</button>
                    <h1 class="text-lg font-bold flex-1">D√∫vidas Frequentes</h1>
                </div>
                
                <div class="flex-1 overflow-y-auto p-4 space-y-4">
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <details class="group">
                            <summary class="flex justify-between items-center cursor-pointer">
                                <h3 class="font-semibold text-gray-800 pr-4">Pode ser finalizada instala√ß√£o com OS parcialmente aprovada?</h3>
                                <span class="text-blue-600 group-open:rotate-180 transition-transform">‚ñº</span>
                            </summary>
                            <div class="mt-3 pt-3 border-t border-gray-100">
                                <p class="text-gray-700 text-sm">N√£o. Neste status n√£o √© poss√≠vel realizar pagamento dos prestadores nem existe Base Instalada para NF de comodato.</p>
                            </div>
                        </details>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-4">
                        <details class="group">
                            <summary class="flex justify-between items-center cursor-pointer">
                                <h3 class="font-semibold text-gray-800 pr-4">Quais condi√ß√µes obrigat√≥rias para montagem?</h3>
                                <span class="text-blue-600 group-open:rotate-180 transition-transform">‚ñº</span>
                            </summary>
                            <div class="mt-3 pt-3 border-t border-gray-100">
                                <p class="text-gray-700 text-sm">OS deve estar 'Aprovada' no Oracle PM, Projeto/croqui validado tecnicamente e OS com saldo suficiente.</p>
                            </div>
                        </details>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-4">
                        <details class="group">
                            <summary class="flex justify-between items-center cursor-pointer">
                                <h3 class="font-semibold text-gray-800 pr-4">Posso solicitar visita de projeto sem OS?</h3>
                                <span class="text-blue-600 group-open:rotate-180 transition-transform">‚ñº</span>
                            </summary>
                            <div class="mt-3 pt-3 border-t border-gray-100">
                                <p class="text-gray-700 text-sm">Sim, √© poss√≠vel. Por√©m, caso o neg√≥cio n√£o seja fechado, o custo ser√° lan√ßado em despesa comercial.</p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="bg-white border-t border-gray-200 px-4 py-2">
                <div class="flex justify-around">
                    <button onclick="showScreen('home-screen')" class="flex flex-col items-center py-2 px-3 rounded text-blue-600">
                        <div class="text-xl">üè†</div>
                        <span class="text-xs mt-1">In√≠cio</span>
                    </button>
                    <button onclick="showScreen('calculator-screen')" class="flex flex-col items-center py-2 px-3 rounded text-gray-400">
                        <div class="text-xl">üßÆ</div>
                        <span class="text-xs mt-1">Calc</span>
                    </button>
                    <button onclick="showScreen('distances-screen')" class="flex flex-col items-center py-2 px-3 rounded text-gray-400">
                        <div class="text-xl">üìè</div>
                        <span class="text-xs mt-1">Dist.</span>
                    </button>
                    <button onclick="showScreen('norms-screen')" class="flex flex-col items-center py-2 px-3 rounded text-gray-400">
                        <div class="text-xl">üìã</div>
                        <span class="text-xs mt-1">Normas</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // App State
        let equipamentos = [];
        let consumoTotal = 0;

        // Dados de distanciamento por estado
        const distanciamentosData = {
            'NBR 13523': { portas: 0, materiais: 0, igni√ß√£o: 0, passeio: 0, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 2 },
            'SP': { portas: 1.5, materiais: 1.5, igni√ß√£o: 1.5, passeio: 0, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 2 },
            'RJ': { portas: 0, materiais: 0, igni√ß√£o: 0, passeio: 0, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 2 },
            'PR': { portas: 3, materiais: 3, igni√ß√£o: 3, passeio: 0.8, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 1 },
            'ES': { portas: 1.5, materiais: 0, igni√ß√£o: 0, passeio: 0.8, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 1 },
            'MS': { portas: 3, materiais: 3, igni√ß√£o: 3, passeio: 0.8, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 1 },
            'GO': { portas: 0, materiais: 0, igni√ß√£o: 0, passeio: 0.8, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 1 },
            'PA': { portas: 0, materiais: 0, igni√ß√£o: 0, passeio: 0.8, chama: 6, capta√ß√£o: 6, produtos: 6, gerador: 6, outras: 7.5, maxTanques: 1 }
        };

        const distanceLabels = [
            { key: 'portas', label: 'Portas e janelas', icon: 'üö™' },
            { key: 'materiais', label: 'Materiais combust√≠veis', icon: 'üì¶' },
            { key: 'igni√ß√£o', label: 'Pontos de igni√ß√£o', icon: '‚ö°' },
            { key: 'passeio', label: 'Passeio p√∫blico', icon: 'üö∂' },
            { key: 'chama', label: 'Chama aberta', icon: 'üî•' },
            { key: 'capta√ß√£o', label: 'Capta√ß√£o de ar for√ßado', icon: 'üå™Ô∏è' },
            { key: 'produtos', label: 'Produtos t√≥xicos/inflam√°veis', icon: '‚ò†Ô∏è' },
            { key: 'gerador', label: 'Gerador a diesel', icon: '‚öôÔ∏è' },
            { key: 'outras', label: 'Outras centrais GLP', icon: 'üè≠' }
        ];

        // Screen Navigation
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show selected screen
            document.getElementById(screenId).classList.add('active');
            
            // Update bottom navigation
            updateBottomNavigation(screenId);
            
            // Initialize screen-specific data
            if (screenId === 'distances-screen') {
                updateDistances();
            }
        }

        function updateBottomNavigation(activeScreen) {
            document.querySelectorAll('.bg-white.border-t button').forEach(btn => {
                btn.className = btn.className.replace('text-blue-600', 'text-gray-400');
            });
            
            // Set active button based on screen
            const screenToNavMap = {
                'home-screen': 0,
                'calculator-screen': 1,
                'distances-screen': 2,
                'norms-screen': 3
            };
            
            const navIndex = screenToNavMap[activeScreen];
            if (navIndex !== undefined) {
                const navButtons = document.querySelectorAll('.bg-white.border-t button');
                if (navButtons[navIndex]) {
                    navButtons[navIndex].className = navButtons[navIndex].className.replace('text-gray-400', 'text-blue-600');
                }
            }
        }

        // Calculator Functions
        function addEquipment(nome, consumo) {
            equipamentos.push({ nome, consumo, id: Date.now() });
            consumoTotal += consumo;
            updateCalculation();
            showSelectedEquipments();
        }

        function removeEquipment(id) {
            const index = equipamentos.findIndex(eq => eq.id === id);
            if (index > -1) {
                consumoTotal -= equipamentos[index].consumo;
                equipamentos.splice(index, 1);
                updateCalculation();
                showSelectedEquipments();
            }
        }

        function updateCalculation() {
            const horas = parseFloat(document.getElementById('input-horas').value) || 8;
            const dias = parseFloat(document.getElementById('input-dias').value) || 30;
            const consumoMensal = consumoTotal * horas * dias;
            const tanquesNecessarios = Math.ceil(consumoTotal / 3);

            document.getElementById('consumo-total').textContent = consumoTotal.toFixed(1);
            document.getElementById('tanques-necessarios').textContent = tanquesNecessarios;
            document.getElementById('consumo-mensal').textContent = consumoMensal.toFixed(0);
            document.getElementById('horas-uso').textContent = horas;
            document.getElementById('dias-mes').textContent = dias;
        }

        function showSelectedEquipments() {
            const container = document.getElementById('equipamentos-selecionados');
            const lista = document.getElementById('lista-equipamentos');
            
            if (equipamentos.length === 0) {
                container.style.display = 'none';
                return;
            }

            container.style.display = 'block';
            lista.innerHTML = equipamentos.map(eq => `
                <div class="flex items-center justify-between p-2 bg-gray-50 rounded">
                    <div>
                        <p class="font-medium text-sm">${eq.nome}</p>
                        <p class="text-xs text-gray-600">${eq.consumo} kg/h</p>
                    </div>
                    <button onclick="removeEquipment(${eq.id})" 
                            class="text-blue-500 hover:text-blue-700 p-1">‚úï</button>
                </div>
            `).join('');
        }

        function clearCalculator() {
            equipamentos = [];
            consumoTotal = 0;
            updateCalculation();
            showSelectedEquipments();
        }

        // Distances Functions
        function updateDistances() {
            const selectedState = document.getElementById('state-selector').value;
            const data = distanciamentosData[selectedState];
            
            document.getElementById('current-state').textContent = selectedState;
            document.getElementById('max-tanks').textContent = `${data.maxTanques} B190/B125`;
            
            const distancesList = document.getElementById('distances-list');
            distancesList.innerHTML = distanceLabels.map(item => `
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded">
                    <div class="flex items-center">
                        <span class="mr-3 text-lg">${item.icon}</span>
                        <span class="text-sm font-medium text-gray-700">${item.label}</span>
                    </div>
                    <span class="font-bold text-blue-600">${data[item.key]}m</span>
                </div>
            `).join('');
            
            // Update state-specific warnings
            const warningsContainer = document.getElementById('state-warnings');
            warningsContainer.innerHTML = '';
            
            if (selectedState === 'MG') {
                warningsContainer.innerHTML = `
                    <div class="mt-2 p-3 bg-red-50 rounded border-l-4 border-red-500">
                        <p class="text-sm font-medium text-red-800">‚ö†Ô∏è Aten√ß√£o</p>
                        <p class="text-sm text-red-700">Nicho n√£o permitido em MG</p>
                    </div>
                `;
            } else if (['PR', 'ES', 'MS', 'GO', 'PA'].includes(selectedState)) {
                warningsContainer.innerHTML = `
                    <div class="mt-2 p-3 bg-yellow-50 rounded border-l-4 border-yellow-500">
                        <p class="text-sm font-medium text-yellow-800">üìç Restri√ß√£o</p>
                        <p class="text-sm text-yellow-700">N√£o permitido no corredor lateral, somente na fachada</p>
                    </div>
                `;
            }
        }

        // Initialize App
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('splash-screen').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                updateDistances(); // Initialize distances data
            }, 2000);
        });

        // Service Worker para PWA
        if ('serviceWorker' in navigator) {
            const swCode = `
                const CACHE_NAME = 'ultragaz-v2';
                const urlsToCache = ['/'];
                
                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => cache.addAll(urlsToCache))
                    );
                });
                
                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => response || fetch(event.request))
                    );
                });
            `;
            
            const blob = new Blob([swCode], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(blob);
            
            navigator.serviceWorker.register(swUrl)
                .then(() => console.log('SW registrado'))
                .catch(err => console.log('SW erro:', err));
        }

        // Prevent zoom on double-tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>

    <!-- PWA Manifest inline -->
    <script>
        const manifest = {
            name: "Ultragaz - Guia T√©cnico",
            short_name: "Ultragaz",
            description: "Guia de bolso para instala√ß√µes comerciais de GLP",
            start_url: "/",
            display: "standalone",
            background_color: "#2563eb",
            theme_color: "#2563eb",
            orientation: "portrait",
            scope: "/",
            icons: [
                {
                    src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' rx='20' fill='%232563eb'/%3E%3Ctext x='96' y='120' text-anchor='middle' font-size='80' font-weight='bold' fill='white'%3EUG%3C/text%3E%3C/svg%3E",
                    sizes: "192x192",
                    type: "image/svg+xml",
                    purpose: "any maskable"
                },
                {
                    src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' rx='50' fill='%232563eb'/%3E%3Ctext x='256' y='320' text-anchor='middle' font-size='200' font-weight='bold' fill='white'%3EUG%3C/text%3E%3C/svg%3E",
                    sizes: "512x512",
                    type: "image/svg+xml",
                    purpose: "any maskable"
                }
            ]
        };
        
        const blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(blob);
        const link = document.createElement('link');
        link.rel = 'manifest';
        link.href = manifestURL;
        document.head.appendChild(link);
    </script>
</body>
</html>
